{"is_source_file": true, "format": "Python", "description": "This source file defines the `NotesService` class which encapsulates the business logic for managing notes, including creating, retrieving, listing, replacing, updating, and deleting notes. It interacts with various repository implementations and uses application settings to determine the appropriate repository type.", "external_files": ["../models/note_models", "../repositories/notes_repository", "../core/settings"], "external_methods": ["get_app_settings", "NotesRepository.create", "NotesRepository.get", "NotesRepository.list", "NotesRepository.replace", "NotesRepository.update", "NotesRepository.delete", "NoteCreate", "NoteUpdate", "Note", "PaginatedNotes"], "published": ["NotesService"], "classes": [{"name": "NotesService", "description": "Provides business logic for managing notes, interfacing with repositories and handling note operations."}], "methods": [{"name": "None __init__(self, repository: NotesRepository | None = None)", "description": "Initializes the NotesService, selecting the appropriate repository based on configuration settings.", "scope": "NotesService", "scopeKind": "class"}, {"name": "Note create_note(self, payload: NoteCreate)", "description": "Creates a new note using the repository.", "scope": "NotesService", "scopeKind": "class"}, {"name": "Optional[Note] get_note(self, note_id: str)", "description": "Retrieves a note by its ID.", "scope": "NotesService", "scopeKind": "class"}, {"name": "PaginatedNotes list_notes(self, q: Optional[str], limit: int, offset: int)", "description": "Returns a paginated list of notes, optionally filtered by a search query.", "scope": "NotesService", "scopeKind": "class"}, {"name": "Optional[Note] replace_note(self, note_id: str, payload: NoteCreate)", "description": "Replaces an existing note with new data.", "scope": "NotesService", "scopeKind": "class"}, {"name": "Optional[Note] update_note(self, note_id: str, payload: NoteUpdate)", "description": "Partially updates a note with new data.", "scope": "NotesService", "scopeKind": "class"}, {"name": "bool delete_note(self, note_id: str)", "description": "Deletes a note by its ID.", "scope": "NotesService", "scopeKind": "class"}], "calls": ["get_app_settings", "self.repo.create", "self.repo.get", "self.repo.list", "self.repo.replace", "self.repo.update", "self.repo.delete"], "search-terms": ["NotesService", "notes_repository", "note_models", "repository selection", "CRUD notes"], "state": 2, "file_id": 11, "knowledge_revision": 29, "git_revision": "3f6916e8e39cd55be2a4e15344dfc80f2e32c802", "ctags": [{"_type": "tag", "name": "NotesService", "path": "/home/kavia/workspace/code-generation/note-keeper-167398-167416/notes_backend/src/api/services/notes_service.py", "pattern": "/^class NotesService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/note-keeper-167398-167416/notes_backend/src/api/services/notes_service.py", "pattern": "/^    def __init__(self, repository: NotesRepository | None = None) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, repository: NotesRepository | None = None)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/note-keeper-167398-167416/notes_backend/src/api/services/notes_service.py", "pattern": "/^    def create_note(self, payload: NoteCreate) -> Note:$/", "language": "Python", "typeref": "typename:Note", "kind": "member", "signature": "(self, payload: NoteCreate)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/note-keeper-167398-167416/notes_backend/src/api/services/notes_service.py", "pattern": "/^    def delete_note(self, note_id: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self, note_id: str)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/note-keeper-167398-167416/notes_backend/src/api/services/notes_service.py", "pattern": "/^    def get_note(self, note_id: str) -> Optional[Note]:$/", "language": "Python", "typeref": "typename:Optional[Note]", "kind": "member", "signature": "(self, note_id: str)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/note-keeper-167398-167416/notes_backend/src/api/services/notes_service.py", "pattern": "/^    def list_notes(self, q: Optional[str], limit: int, offset: int) -> PaginatedNotes:$/", "language": "Python", "typeref": "typename:PaginatedNotes", "kind": "member", "signature": "(self, q: Optional[str], limit: int, offset: int)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "replace_note", "path": "/home/kavia/workspace/code-generation/note-keeper-167398-167416/notes_backend/src/api/services/notes_service.py", "pattern": "/^    def replace_note(self, note_id: str, payload: NoteCreate) -> Optional[Note]:$/", "language": "Python", "typeref": "typename:Optional[Note]", "kind": "member", "signature": "(self, note_id: str, payload: NoteCreate)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/note-keeper-167398-167416/notes_backend/src/api/services/notes_service.py", "pattern": "/^    def update_note(self, note_id: str, payload: NoteUpdate) -> Optional[Note]:$/", "language": "Python", "typeref": "typename:Optional[Note]", "kind": "member", "signature": "(self, note_id: str, payload: NoteUpdate)", "scope": "NotesService", "scopeKind": "class"}], "hash": "3d9171f1e2eed66f434ceacfbd71fff2", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/services/notes_service.py", "revision_history": [{"29": "3f6916e8e39cd55be2a4e15344dfc80f2e32c802"}]}